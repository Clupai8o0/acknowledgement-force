<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Acknowledgement Force</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Crimson+Pro:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap"
    />
    <link rel="stylesheet" href="./styles.css" />
    <script type="module" src="./main.js" defer></script>
  </head>
  <body class="intro-active">
    <!-- Intro Screen -->
    <div class="intro" id="intro" aria-hidden="true">
      <div class="intro-circle" aria-hidden="true"></div>
      <p class="intro-greeting" id="intro-greeting"></p>
    </div>

    <!-- Contract View (shown before acknowledgement) -->
    <main class="contract-view" id="contract-view">
      <header class="contract-header">
        <p class="contract-kicker">Daily Contract</p>
        <h1>Acknowledgement Force</h1>
        <p class="contract-subtitle">Read carefully. Acknowledge intentionally.</p>
      </header>

      <section class="contract-container" id="contract-container" tabindex="0">
        <article class="contract-content" id="contract-content">
          <!-- Markdown content rendered here -->
        </article>
      </section>

      <section class="acknowledgement-form" id="acknowledgement-form">
        <div class="ack-checkbox-row">
          <label class="ack-checkbox-label">
            <input type="checkbox" id="ack-checkbox" class="ack-checkbox" />
            <span class="ack-checkbox-custom"></span>
            <span class="ack-checkbox-text">I have read and acknowledge this contract for today</span>
          </label>
        </div>
        <div class="ack-action-row">
          <label class="ack-action-label">Today's single highest-leverage action:</label>
          <input
            type="text"
            id="ack-action-input"
            class="ack-action-input"
            placeholder="What is the ONE thing you must do today?"
            autocomplete="off"
          />
        </div>
        <button id="ack-confirm-btn" class="ack-confirm-btn" type="button" disabled>
          Confirm & Continue
        </button>
        <p class="ack-status" id="ack-status">Scroll to the bottom, check the box, and enter your action.</p>
      </section>
    </main>

    <!-- Main App View (shown after acknowledgement) -->
    <main class="app-view" id="app-view" data-visible="false">
      <!-- Sidebar with Daily Non-Negotiables -->
      <aside class="sidebar" id="sidebar">
        <header class="sidebar-header">
          <h2>Daily Non-Negotiables</h2>
          <div class="progress-badge" id="progress-badge">0/8</div>
        </header>
        <ul class="checklist" id="checklist">
          <!-- Checklist items rendered dynamically -->
        </ul>
        <div class="sidebar-footer">
          <button class="view-history-btn" id="view-history-btn" type="button">
            View Past Actions
          </button>
        </div>
      </aside>

      <!-- Main Content Area -->
      <section class="main-content" id="main-content">
        <header class="main-header">
          <div class="main-header-left">
            <h1>Welcome back, <span id="user-name-display">Samridh</span></h1>
            <p class="date-display" id="date-display"></p>
          </div>
          <button class="logout-btn" id="logout-btn" type="button" title="Close app">
            Exit
          </button>
        </header>

        <div class="today-action-card" id="today-action-card">
          <h3>Today's Highest-Leverage Action</h3>
          <p class="today-action-text" id="today-action-text"></p>
        </div>

        <div class="motivation-section">
          <blockquote class="motivation-quote">
            "Execution beats planning. Commits, deployments, and documentation are the only valid measures."
          </blockquote>
        </div>
      </section>

      <!-- History Modal -->
      <div class="history-modal" id="history-modal" data-visible="false">
        <div class="history-modal-content">
          <header class="history-modal-header">
            <h2>Past Actions</h2>
            <button class="history-close-btn" id="history-close-btn" type="button">Close</button>
          </header>
          <div class="history-list" id="history-list">
            <!-- History items rendered dynamically -->
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
